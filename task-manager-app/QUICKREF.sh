#!/bin/bash

# ğŸ“‹ Task Manager v3.0 - Quick Command Reference
# Salva come QUICKREF.sh per accesso veloce

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  ğŸ“‹ Task Manager v3.0 - Quick Reference                   â•‘"
echo "â•‘  Master-Slave Task Management System                      â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

echo "ğŸš€ QUICK START"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. Avvia il server:"
echo "   cd task-manager-app && npm start"
echo ""
echo "2. Apri nel browser:"
echo "   http://localhost:5000"
echo ""
echo "3. Login Master:"
echo "   Username: master"
echo "   Password: masterpass"
echo ""

echo "ğŸ§ª TEST AUTOMATICO"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Esegui tutti i 10 test:"
echo "   ./TEST_V3.sh"
echo ""

echo "ğŸ”Œ API ENDPOINTS (cURL examples)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "1ï¸âƒ£  LOGIN MASTER"
echo "   curl -X POST http://localhost:5000/api/auth/login \\"
echo "     -H 'Content-Type: application/json' \\"
echo "     -d '{\"username\":\"master\",\"password\":\"masterpass\"}'"
echo ""

echo "2ï¸âƒ£  CREA OPERATORE"
echo "   curl -X POST http://localhost:5000/api/auth/create-operator \\"
echo "     -H 'Content-Type: application/json' \\"
echo "     -H 'Authorization: Bearer \$TOKEN' \\"
echo "     -d '{\"username\":\"mario\",\"password\":\"mario123\"}'"
echo ""

echo "3ï¸âƒ£  LISTA OPERATORI"
echo "   curl -X GET http://localhost:5000/api/auth/operators \\"
echo "     -H 'Authorization: Bearer \$TOKEN'"
echo ""

echo "4ï¸âƒ£  CREA TASK"
echo "   curl -X POST http://localhost:5000/api/tasks \\"
echo "     -H 'Content-Type: application/json' \\"
echo "     -H 'Authorization: Bearer \$TOKEN' \\"
echo "     -d '{\"title\":\"Task\",\"assignedOperatorId\":2,\"priority\":\"HIGH\"}'"
echo ""

echo "5ï¸âƒ£  ACCETTA TASK"
echo "   curl -X POST http://localhost:5000/api/tasks/1/accept \\"
echo "     -H 'Authorization: Bearer \$OP_TOKEN'"
echo ""

echo "6ï¸âƒ£  PAUSA TASK"
echo "   curl -X POST http://localhost:5000/api/tasks/1/pause \\"
echo "     -H 'Authorization: Bearer \$OP_TOKEN'"
echo ""

echo "7ï¸âƒ£  RIPRENDI TASK"
echo "   curl -X POST http://localhost:5000/api/tasks/1/resume \\"
echo "     -H 'Authorization: Bearer \$OP_TOKEN'"
echo ""

echo "8ï¸âƒ£  COMPLETA TASK"
echo "   curl -X POST http://localhost:5000/api/tasks/1/notes \\"
echo "     -H 'Content-Type: application/json' \\"
echo "     -H 'Authorization: Bearer \$OP_TOKEN' \\"
echo "     -d '{\"note\":\"Done\",\"actualMinutes\":30,\"markCompleted\":true}'"
echo ""

echo "ğŸ—„ï¸  DATABASE"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Database location:"
echo "   server/prisma/data/tasks.db"
echo ""
echo "Reset database:"
echo "   rm -f server/prisma/data/tasks.db*"
echo "   DATABASE_URL='file:./prisma/data/tasks.db' npx prisma db push"
echo "   DATABASE_URL='file:./prisma/data/tasks.db' npx ts-node server/prisma/seed.ts"
echo ""

echo "ğŸ“š DOCUMENTAZIONE"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ğŸ“„ README_V3.md"
echo "   Full documentation, API docs, troubleshooting"
echo ""
echo "ğŸ“„ FEATURES_COMPLETED.md"
echo "   Dettagli feature, schema DB, flussi utente"
echo ""
echo "ğŸ“„ IMPLEMENTATION_SUMMARY.md"
echo "   Checklist implementazione, risultati test"
echo ""

echo "âš™ï¸  TROUBLESHOOTING"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "âŒ Porta 5000 giÃ  in uso:"
echo "   lsof -i :5000 | grep LISTEN | awk '{print \$2}' | xargs kill -9"
echo ""
echo "âŒ Build con errori:"
echo "   npm run build"
echo ""
echo "âŒ Browser non aggiorna:"
echo "   Ctrl+F5 (hard refresh)"
echo ""
echo "âŒ JWT token scaduto:"
echo "   Fai login di nuovo (expiry: 8 ore)"
echo ""

echo "ğŸ‘¤ CREDENZIALI DI TEST"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Master:"
echo "   Username: master"
echo "   Password: masterpass"
echo ""
echo "Operatori (pre-creati):"
echo "   Username: operatore1"
echo "   Password: operatorpass"
echo ""
echo "Crea nuovo operatore da Master:"
echo "   Dashboard â†’ Crea Nuovo Operatore"
echo ""

echo "ğŸ¯ WORKFLOW OPERATORE"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. Login come operatore"
echo "2. Vedi task assegnati"
echo "3. Clicca 'Accetta' â†’ acceptedAt registrato"
echo "4. Lavora sul task"
echo "5. Opzione A: Clicca 'Completa' â†’ completedAt registrato"
echo "6. Opzione B: Clicca 'Pausa' â†’ pausedAt registrato"
echo "   Poi accetta un altro task"
echo "7. Clicca 'Riprendi' per continuare task pausato"
echo ""

echo "ğŸ“Š FEATURE IMPLEMENTATE v3.0"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "âœ… Master crea operatori nel database"
echo "âœ… Rimozione sistema promozione operatori"
echo "âœ… Tempo di accettazione task (acceptedAt)"
echo "âœ… Un solo task attivo per operatore"
echo "âœ… Pausa task per accettare altri"
echo "âœ… Ripresa task messo in pausa"
echo "âœ… Tempo automatico chiusura (completedAt)"
echo "âœ… Backend API completa"
echo "âœ… Frontend UI aggiornato"
echo "âœ… Test automatici 10/10"
echo ""

echo "âœ… SISTEMA PRONTO PER PRODUZIONE"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
